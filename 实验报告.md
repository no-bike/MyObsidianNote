



# 哈尔滨工业大学

# 22CS31103大数据软件设计与实践

# 课程报告

姓名：曲本磊

学号：2022112479

班级：2203501

专业：数据科学与大数据技术

学期：2024秋

## Lab1：存储管理

### 功能实现

磁盘存储管理器
![[Pasted image 20241205205355.png]]
缓冲池替换策略
![[Pasted image 20241205205427.png]]
缓冲池管理器
![[Pasted image 20241205205459.png]]
记录管理器

### 重点与难点

在受限缓冲池大小的前提下，设计合适的内外存页面调度策略，尽可能将经常访问的磁盘数据页面维护在缓冲池中，从而减少磁盘I/O开销。
记录虽然是存放在磁盘而不是内存中，但是对记录的操作仍需在内存中进行，所以在组织记录时需要考虑如何让它在内存能够被高效访问。

## Lab 2：索引管理

### 功能实现

实现了B+树的查找、插入、删除和并发控制
![[Pasted image 20241205205657.png]]

![[Pasted image 20241205205730.png]]

![[Pasted image 20241205205830.png]]

### 重点与难点

（1）本系统设计的B+树索引不支持重复键，即唯一索引（索引列不包含重复的值）。 

（2）结点能容纳的键值对数量小于最大值，大于等于最小值。这相当于留出了一个多余的空位，方便B+树进行插入和删除操作。 

（3）value的数量比key的数量多一个，而为了体现”键值对“的概念，实际上应该将key和value的数量设为相等。

## Lab 3：查询执行

### 功能实现

通过火山模型实现查询执行模块，包括表和索引的创建与删除、单表插入与条件查询、单表更新与条件查询、单表删除与条件查询、多表连接与条件查询。
![[Pasted image 20241205210132.png]]
### 重点与难点

完成src/system/sm_manager.cpp中的接口，使得系统能够支持DDL语句。
完成src/execution文件夹下执行算子中的空缺函数，使得系统能够支持增删改查四种DML语句。


## Lab 4：并发控制

### 功能实现

 

![[Pasted image 20241205211406.png]]
![[Pasted image 20241205211349.png]]

### 重点与难点

Rucbase并发控制模块采用的是基于封锁的并发控制协议，要求事务达到可串行化隔离级别。在本实验中，需要实现事务管理器、锁管理器，并使用事务管理器和锁管理器提供的相关接口保证事务正确地并发执行。

